{"version":3,"file":"PointDrawingToolManager.js","sourceRoot":"","sources":["PointDrawingToolManager.ts"],"names":[],"mappings":";;IAQA;QAOI,YAAY,IAAI;YACZ,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;YAM1C,IAAI,CAAC,eAAe,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACtD,IAAI,CAAC,aAAa,GAAG,IAAI,aAAa,CAAC,IAAI,CAAC,CAAC;YAC7C,IAAI,CAAC,YAAY,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAChD,IAAI,CAAC,aAAa,EAAE,CAAC;QACzB,CAAC;QACD,UAAU,CAAC,OAAO;YACd,IAAI,MAAM,GAAG,OAAO,CAAC,sBAAsB,CAAC,CAAC;YAC7C,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;gBAAC,MAAM,CAAC;YACpB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QACpD,CAAC;QACD,aAAa;YACT,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,OAAO,EAAE,EAAE;gBAC/C,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,EAAE;oBACnC,OAAO,EAAE,OAAO;oBAChB,MAAM,EAAE,QAAQ;iBACnB,CAAC,CAAC;gBACH,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;YAC7B,CAAC,CAAC,CAAA;QACN,CAAC;QACD,IAAI,SAAS,CAAC,GAAG;YACb,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;QAC1B,CAAC;QACD,IAAI,SAAS;YACT,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QAC3B,CAAC;QAED,UAAU;YACN,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC9C,CAAC;QAYD,WAAW;YAEP,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,CAAC;QAEvC,CAAC;KAEJ;IACD,OAAS,uBAAuB,CAAC","sourcesContent":["/**\r\n * Lớp này dùng để gọi các chức năng của các lớp khi vẽ Point (Vẽ tùy chọn, hướng, giao hội)\r\n * Tham số truyền vào (view, systemVariable)\r\n * systemVariable: Thông tin khách hàng đang hiển thị\r\n */\r\nimport SimpleDrawPoint = require(\"./SimpleDrawPoint\");\r\nimport PointEditing = require(\"../editing/PointEditing\");\r\nimport EventListener = require(\"../classes/EventListener\");\r\nclass PointDrawingToolManager {\r\n    private view;\r\n    private _drawLayer;\r\n    private systemVariable;\r\n    private simpleDrawPoint;\r\n    private eventListener;\r\n    private pointEditing;\r\n    constructor(view) {\r\n        this.view = view;\r\n        this._drawLayer = null;\r\n        this.systemVariable = view.systemVariable;\r\n        // // Chức năng vẽ Khoảng cách- Hướng\r\n        // this.bufferDrawPoint = new BufferDrawPoint(this.view);\r\n        // // Chức năng vẽ giao hội\r\n        // this.conjunctionDrawPoint = new ConjunctionDrawPoint(this.view);\r\n        // Chức năng vẽ tùy chọn\r\n        this.simpleDrawPoint = new SimpleDrawPoint(this.view);\r\n        this.eventListener = new EventListener(this);\r\n        this.pointEditing = new PointEditing(this.view);\r\n        this.registerEvent();\r\n    }\r\n    addFeature(graphic) {\r\n        let accept = confirm('Chắc chắn muốn thêm?');\r\n        if (!accept) return;\r\n        this.pointEditing.draw(this.drawLayer, graphic);\r\n    }\r\n    registerEvent() {\r\n        this.simpleDrawPoint.on('draw-finish', (graphic) => {\r\n            this.eventListener.fire('draw-finish', {\r\n                graphic: graphic,\r\n                method: 'simple'\r\n            });\r\n            this.addFeature(graphic);\r\n        })\r\n    }\r\n    set drawLayer(val) {\r\n        this._drawLayer = val;\r\n    }\r\n    get drawLayer() {\r\n        return this._drawLayer;\r\n    }\r\n    // Vẽ Tùy chọn\r\n    drawSimple() {\r\n        this.clearEvents();\r\n        this.simpleDrawPoint.draw(this.drawLayer);\r\n    }\r\n    // Vẽ Khoảng cách - hướng\r\n    // drawBuffer() {\r\n    //     this.clearEvents();\r\n    //     this.bufferDrawPoint.draw(this.drawLayer);\r\n    // }\r\n    // // Vẽ giao hội\r\n    // drawConjunction() {\r\n    //     this.clearEvents();\r\n    //     this.conjunctionDrawPoint.draw(this.drawLayer);\r\n    // }\r\n    // Xóa các sự kiện tồn tại khi gọi chức năng khác\r\n    clearEvents() {\r\n        // this.bufferDrawPoint.clearEvents();\r\n        this.simpleDrawPoint.clearEvents();\r\n        // this.conjunctionDrawPoint.clearEvents();\r\n    }\r\n\r\n}\r\nexport = PointDrawingToolManager;"]}