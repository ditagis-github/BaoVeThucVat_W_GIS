{"version":3,"file":"Popup.js","sourceRoot":"","sources":["Popup.ts"],"names":[],"mappings":"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","sourcesContent":["import constName = require('../classes/ConstName');\r\nimport config = require('../config');\r\nimport on = require('dojo/on');\r\nimport dom = require('dojo/dom');\r\nimport domConstruct = require('dojo/dom-construct');\r\nimport PopupEdit = require('./Popup/PopupEdit');\r\nimport HightlightGraphic = require('../support/HightlightGraphic');\r\nimport editingSupport = require('../support/Editing');\r\nimport bootstrap = require('../toolview/Bootstrap');\r\nimport SimpleMarkerSymbol = require('esri/symbols/SimpleMarkerSymbol');\r\nimport SimpleFillSymbol = require('esri/symbols/SimpleFillSymbol');\r\nimport SimpleLineSymbol = require('esri/symbols/SimpleLineSymbol');\r\nimport FeatureTable = require('../support/FeatureTable');\r\nimport Color = require('esri/Color');\r\n'use strict';\r\nclass Popup {\r\n  view;\r\n  options;\r\n  thoiGianSanXuatTrongTrot;\r\n  popupEdit;\r\n  hightlightGraphic\r\n  constructor(view) {\r\n    this.view = view;\r\n    this.options = {\r\n      hightLength: 100\r\n    }\r\n    let url = config.tables.find(function (f) {\r\n      return f.id === 'thoigiansxtt'\r\n    }).url;\r\n    this.thoiGianSanXuatTrongTrot = new FeatureTable({ url: url });\r\n    this.popupEdit = new PopupEdit(view, {\r\n      hightLength: this.options.hightLength,\r\n      table: this.thoiGianSanXuatTrongTrot\r\n    })\r\n\r\n    this.hightlightGraphic = new HightlightGraphic(view, {\r\n      symbolMarker: new SimpleMarkerSymbol({\r\n        outline: new SimpleLineSymbol({ // autocasts as new SimpleLineSymbol()\r\n          color: new Color('#7EABCD'), // autocasts as new Color()\r\n          width: 2\r\n        })\r\n      }),\r\n      symbolFill: new SimpleFillSymbol({\r\n        outline: new SimpleLineSymbol({\r\n          color: new Color('#7EABCD'), // autocasts as new Color()\r\n          width: 2\r\n        })\r\n      })\r\n    });\r\n  }\r\n\r\n  startup() {\r\n    // this.view.on('layerview-create', (evt) => {\r\n    this.view.map.layers.map(layer => {\r\n      layer.then(() => {\r\n        // let layer = evt.layer;\r\n        if (layer.type == 'feature') {\r\n          let actions = [];\r\n          if (layer.permission.edit)\r\n            actions.push({\r\n              id: \"update\",\r\n              title: \"Cập nhật\",\r\n              className: \"esri-icon-edit\",\r\n              layer: layer\r\n            });\r\n          if (layer.permission.delete)\r\n            actions.push({\r\n              id: \"delete\",\r\n              title: \"Xóa\",\r\n              className: \"esri-icon-erase\",\r\n              layer: layer\r\n            })\r\n          if (layer.id === constName.TRONGTROT) {\r\n            actions.push({\r\n              id: \"view-detail\",\r\n              title: \"Chi tiết thời gian trồng trọt\",\r\n              className: \"esri-icon-table\",\r\n              layer: layer\r\n            })\r\n          }\r\n          layer.popupTemplate = {\r\n            content: (target) => {\r\n              return this.contentPopup(target, layer);\r\n            },\r\n            title: layer.title,\r\n            actions: actions\r\n          }\r\n        }\r\n\r\n      });\r\n    })\r\n\r\n    this.view.popup.watch('visible', (newValue) => {\r\n      if (!newValue) //unvisible\r\n        this.hightlightGraphic.clear();\r\n    })\r\n    this.view.popup.on(\"trigger-action\", (evt) => {\r\n      this.triggerActionHandler(evt);\r\n    }); //đăng ký sự kiện khi click vào action\r\n    this.view.popup.dockOptions = {\r\n      // Disable the dock button so users cannot undock the popup\r\n      buttonEnabled: true,\r\n      // Dock the popup when the size of the view is less than or equal to 600x1000 pixels\r\n      breakpoint: {\r\n        width: 600,\r\n        height: 1000\r\n      },\r\n      position: 'top-right'\r\n    };\r\n  }\r\n  get selectFeature() {\r\n    return this.view.popup.viewModel.selectedFeature;\r\n  }\r\n  get layer() {\r\n    return this.selectFeature.layer;\r\n  }\r\n  get attributes() {\r\n    return this.selectFeature.attributes;\r\n  }\r\n  get objectId() {\r\n    return this.attributes['OBJECTID'];\r\n  }\r\n  triggerActionHandler(event) {\r\n    let actionId = event.action.id;\r\n    let layer = this.layer || event.action.layer;\r\n    this.popupEdit.layer = layer;\r\n    let fail = false;\r\n    switch (actionId) {\r\n      case \"update\":\r\n        if (layer.permission && layer.permission.edit) {\r\n          if (event.action.className === 'esri-icon-check-mark') {\r\n            this.popupEdit.editFeature();\r\n          } else {\r\n            this.popupEdit.showEdit();\r\n          }\r\n        } else {\r\n          fail = true;\r\n        }\r\n        break;\r\n      case \"delete\":\r\n        if (layer.permission && layer.permission.delete) {\r\n          this.popupEdit.deleteFeature();\r\n        } else {\r\n          fail = true;\r\n        }\r\n        break;\r\n      case \"view-detail\":\r\n        if (this.attributes['MaDoiTuong'])\r\n          this.triggerActionViewDetailTrongtrot(this.attributes['MaDoiTuong']);\r\n        else\r\n          $.notify({\r\n            message: 'Không xác được định danh'\r\n          }, {\r\n              type: 'danger'\r\n            })\r\n        break;\r\n      case \"view-detail-edit\":\r\n        if (this.attributes['MaDoiTuong'])\r\n          this.popupEdit.showTableDetailTrongTrot();\r\n        else\r\n          $.notify({\r\n            message: 'Không xác được định danh'\r\n          }, {\r\n              type: 'danger'\r\n            })\r\n        break;\r\n      case \"update-geometry\":\r\n        if (layer.geometryType === 'polygon') {\r\n          alert('Không thể thay đổi vị trí vùng...');\r\n          break;\r\n        }\r\n        this.popupEdit.updateGeometryGPS();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    if (fail) {\r\n      $.notify({\r\n        message: 'Không có quyền thực hiện tác vụ'\r\n      }, {\r\n          type: 'danger'\r\n        })\r\n    }\r\n  }\r\n  getSubtype(name?, value?) {\r\n    name = name || this.layer.typeIdField;\r\n    value = value || this.attributes[name];\r\n    if (this.thoiGianSanXuatTrongTrot.typeIdField === name) {\r\n      const typeIdField = this.thoiGianSanXuatTrongTrot.typeIdField, //tên thuộc tính của subtypes\r\n        subtypes = this.thoiGianSanXuatTrongTrot.types, //subtypes\r\n        subtype = subtypes.find(f => f.id == value);\r\n      return subtype;\r\n    }\r\n    return null;\r\n  }\r\n  renderDomain(domain, name) {\r\n    let codedValues;\r\n    if (domain.type === \"inherited\") {\r\n      let fieldDomain = this.layer.getFieldDomain(name);\r\n      if (fieldDomain) codedValues = fieldDomain.codedValues;\r\n    } else { //type is codedValue\r\n      codedValues = domain.codedValues;\r\n    }\r\n    return codedValues;\r\n  }\r\n  /**\r\n   * Hiển thị popup\r\n   * @param {esri/layers/FeatureLayer} layer - layer được chọn (clickEvent)\r\n   * @param {object} attributes - thông tin của layer được chọn\r\n   */\r\n  async contentPopup(target, featureLayer) {\r\n    try {\r\n\r\n      const graphic = target.graphic,\r\n        layer = graphic.layer || featureLayer,\r\n        attributes = graphic.attributes;\r\n      if (!graphic.layer) graphic.layer = layer;\r\n      //hightlight graphic\r\n      this.hightlightGraphic.clear();\r\n      this.hightlightGraphic.add(graphic);\r\n      let\r\n        div = domConstruct.create('div', {\r\n          class: 'popup-content',\r\n          id: 'popup-content'\r\n        }),\r\n        table = domConstruct.create('table', {}, div);\r\n      //duyệt thông tin đối tượng\r\n      let subtype = this.getSubtype();\r\n      for (let field of layer.fields) {\r\n        let value = attributes[field.name];\r\n        if (field.type === 'oid')\r\n          continue;\r\n        //tạo <tr>\r\n        let row = domConstruct.create('tr');\r\n        //tạo <td>\r\n        let tdName = domConstruct.create('td', {\r\n          innerHTML: field.alias\r\n        }),\r\n          input, content, formatString;\r\n        let codedValues;\r\n        if (subtype && subtype.domains[field.name]) {\r\n          codedValues = this.renderDomain(subtype.domains[field.name], field.name);\r\n        }\r\n        //kiểm tra domain\r\n        else if (field.domain) {\r\n          codedValues = this.renderDomain(field.domain, field.name);\r\n        }\r\n        //nếu field có domain thì hiển thị value theo name của codevalues\r\n        if (codedValues) {\r\n          //lấy name của code\r\n          let codeValue = codedValues.find(f => {\r\n            return f.code === value\r\n          });\r\n          if (codeValue) value = codeValue.name;\r\n        } else if ((field.name === 'MaPhuongXa' || field.name === 'MaHuyenTP') && attributes[field.name]) {\r\n          let location = await editingSupport.getLocationName(this.view, {\r\n            PhuongXa: attributes['MaPhuongXa'],\r\n            HuyenTP: attributes['MaHuyenTP']\r\n          }).then(async res => {\r\n            return await res\r\n          });\r\n          value = field.name == 'MaPhuongXa' ? location['TenPhuong'] : location['TenHuyen'];\r\n        } else {\r\n          //lấy formatString\r\n          if (field.type === \"small-integer\" ||\r\n            (field.type === \"integer\") ||\r\n            (field.type === \"double\")) {\r\n            // formatString = 'NumberFormat(places:2)';\r\n          } else if (field.type === 'date') {\r\n            formatString = 'DateFormat';\r\n          }\r\n        }\r\n        //nếu như có formatString\r\n        if (formatString) {\r\n          content = `{${field.name}:${formatString}}`;\r\n        } else {\r\n          content = value;\r\n        }\r\n        let tdValue = domConstruct.create('td');\r\n        var txtArea = null;\r\n        //neu co area thi cho area vao trong td. <td><textarea>{content}</textarea></td>\r\n        if (field.length >= this.options.hightLength) {\r\n          txtArea = domConstruct.create('textarea', {\r\n            rows: 5,\r\n            cols: 25,\r\n            readonly: true,\r\n            innerHTML: content,\r\n            style: 'background: transparent;border:none'\r\n          }, tdValue);\r\n        }\r\n        //neu khong thi co content vao trong td. <td>{content}</td>\r\n        else {\r\n          tdValue.innerHTML = content;\r\n        }\r\n        domConstruct.place(tdName, row);\r\n        domConstruct.place(tdValue, row);\r\n        domConstruct.place(row, table);\r\n      }\r\n      if (layer.hasAttachments) {\r\n\r\n        layer.getAttachments(attributes['OBJECTID']).then(res => {\r\n          if (res && res.attachmentInfos && res.attachmentInfos.length > 0) {\r\n            let div = domConstruct.create('div', {\r\n              class: 'attachment-container'\r\n            }, document.getElementById('popup-content'));\r\n            // div.innerText = \"Hình ảnh\";\r\n            domConstruct.create('legend', {\r\n              innerHTML: 'Hình ảnh'\r\n            }, div)\r\n            let url = `${layer.url}/${layer.layerId}/${attributes['OBJECTID']}`;\r\n            for (let item of res.attachmentInfos) {\r\n              let itemDiv = domConstruct.create('div', {\r\n                class: 'col-lg-3 col-md-4 col-xs-6 thumb'\r\n              }, div);\r\n              let itemA = domConstruct.create('a', {\r\n                class: \"thumbnail\",\r\n                href: \"#\",\r\n              }, itemDiv)\r\n\r\n              let img = domConstruct.create('img', {\r\n                class: 'img-responsive',\r\n                id: `${url}/attachments/${item.id}`,\r\n                src: `${url}/attachments/${item.id}`,\r\n                alt: `${url}/attachments/${item.name}`,\r\n              }, itemA)\r\n              on(itemA, 'click', () => {\r\n                let modal = bootstrap.modal(`attachments-${item.id}`, item.name, img.cloneNode(true));\r\n                if (modal) modal.modal();\r\n              })\r\n            }\r\n\r\n          }\r\n        })\r\n      }\r\n      return div.outerHTML;\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Xem thông tin thời gian trồng trọt\r\n   * @param {*} maDoiTuong Mã đối tượng trồng trọt\r\n   */\r\n  triggerActionViewDetailTrongtrot(maDoiTuong) {\r\n    let notify = $.notify({\r\n      title: 'Thời gian trồng trọt thửa đất: ' + maDoiTuong,\r\n      message: 'Đang truy vấn...'\r\n    }, {\r\n        delay: 20000,\r\n        showProgressbar: true\r\n      })\r\n    this.thoiGianSanXuatTrongTrot.findById(maDoiTuong).then(results => {\r\n      if (results.features.length > 0) {\r\n          notify.update('message', `Tìm thấy ${results.features.length} dữ liệu`)\r\n          notify.update('progress', 100)\r\n          notify.update('type', 'success')\r\n\r\n        let table = document.createElement('table');\r\n        table.classList.add('table', 'table-hover');\r\n        let thead = document.createElement('thead');\r\n        thead.innerHTML =\r\n          `<tr>\r\n              <th>Nhóm cây trồng</th>\r\n              <th>Loại cây trồng</th>\r\n              <th>Diện tích</th>\r\n              <th>Thời gian</th>\r\n            </tr>\r\n            </thead>`\r\n        domConstruct.place(thead, table);\r\n        table.appendChild(thead);\r\n        let tbody = document.createElement('tbody');\r\n        table.appendChild(tbody);\r\n        let features = results.features.sort(function (f1, f2) {\r\n          let a = f1.attributes,\r\n            b = f2.attributes;\r\n          if (a['Nam'] == b['Nam']) return a['Thang'] > b['Thang'];\r\n          else return a['Nam'] > b['Nam'];\r\n        })\r\n        for (let feature of features) {\r\n          const item = feature.attributes;\r\n          //tạo <tr>\r\n          let row = document.createElement('tr');\r\n          row.classList.add(\"Info\");\r\n          tbody.appendChild(row);\r\n          //nhom cay trong\r\n          let tdNCT = document.createElement('td');\r\n          // tdNCT.innerText = item['NhomCayTrong'] || '';\r\n          let NCTcodedValues = this.layer.getFieldDomain('NhomCayTrong').codedValues;\r\n          if (NCTcodedValues) {\r\n            let codeValue = NCTcodedValues.find(f => {\r\n              return f.code == item['NhomCayTrong']\r\n            })\r\n            if (codeValue) tdNCT.innerText = codeValue.name;\r\n          }\r\n          if (!tdNCT.innerText) tdNCT.innerText = item['NhomCayTrong'] || '';\r\n          //loai cay trong\r\n          let tdLCT = document.createElement('td');\r\n\r\n          let subtype = this.getSubtype('NhomCayTrong', item['NhomCayTrong']);\r\n          if (!subtype) return;\r\n          let domain = subtype.domains['LoaiCayTrong'];\r\n          if (domain) {\r\n            let LCTcodedValues;\r\n            if (domain.type === \"inherited\") {\r\n              let fieldDomain = this.layer.getFieldDomain('LoaiCayTrong');\r\n              if (fieldDomain) LCTcodedValues = fieldDomain.codedValues;\r\n            } else { //type is codedValue\r\n              LCTcodedValues = domain.codedValues;\r\n            }\r\n            if (LCTcodedValues) {\r\n              let codeValue = LCTcodedValues.find(f => {\r\n                return f.code == item['LoaiCayTrong']\r\n              });\r\n              if (codeValue) tdLCT.innerText = codeValue.name;\r\n            }\r\n          }\r\n          if (!tdLCT.innerText) tdLCT.innerText = item['LoaiCayTrong'] || '';\r\n\r\n          //dien tich\r\n          let tdArea = document.createElement('td');\r\n          tdArea.innerText = item['DienTich'] || '0';\r\n          //thoi gian\r\n          let tdTime = document.createElement('td');\r\n          tdTime.innerText = `${item['Thang'] || 0}/${item['Nam'] || 0}`;\r\n          row.appendChild(tdNCT);\r\n          row.appendChild(tdLCT);\r\n          row.appendChild(tdArea);\r\n          row.appendChild(tdTime);\r\n        }\r\n        let modal = bootstrap.modal('ttModal', 'Thời gian trồng trọt', table);\r\n        modal.modal();\r\n      } else {\r\n          notify.update('type', 'danger')\r\n          notify.update('message', 'Không tìm thấy dữ liệu')\r\n          notify.update('progress', 100)\r\n      }\r\n    })\r\n  }\r\n}\r\nexport = Popup;"]}